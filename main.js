(()=>{"use strict";var e,t,r,n,o,i,a,c={643:()=>{const e="cities";function t(){const t=localStorage.getItem(e);return null==t?[]:JSON.parse(t)}async function r(e){const t=`https://api.openweathermap.org/data/2.5/weather?q=${e}&appid=48594e0287f39a8f2307182407fc5b7e`;try{const e=await fetch(t);if(!e.ok)throw new Error(`An error has occured: ${e.status}`);const n=await e.json();return 200!==n.cod?{cod:Number(n.cod),message:n.message,city:""}:{cod:n.cod,message:"",city:n.name,temp:`${r=Number(n.main.temp),(r-273.15).toFixed(1)}Â°C`,icon:n.weather[0].icon,latitude:n.coord.lat,longitude:n.coord.lon}}catch(e){throw console.log("Error: ",e.message),e}var r}function n(e,t){const r=e.split(t).map((e=>e.trim()));return{first:r[0],second:2===r.length?r[1]:null}}function o(e){return e.tpl.replace(/{{for ([^}]+)}}((?:\s|\S)+){{endfor}}/gim,((t,r,o)=>{const{first:i,second:c}=n(r,"as");return i in e.data&&e.data[i]instanceof Array?e.data[i].map(((t,r)=>a({tpl:o,data:e.data,indexInLoop:r,loopLength:e.data[i].length,item:c,itemData:t}))).join(""):""}))}function i(e){return e.tpl.replace(/{{([^}]+)}}/gi,((t,r)=>{const{first:o,second:i}=n(r,".");return i?e.item&&o===e.item?i in e.itemData?e.itemData[i]:"":o in e.data&&i in e.data[o]?e.data[o][i]:"":e.item&&o===e.item?e.itemData||"":o in e.data?e.data[o]:""}))}function a(e){const t={...e,tpl:o(e)};return t.tpl=function(e){return e.tpl.replace(/{{if ([^}]+)}}((?:\s|\S)+){{endif}}/gim,((t,r,o)=>{const{ifBody:i,elseBody:c}=function(e){const t=e.split("{{else}}");return{ifBody:t[0],elseBody:2===t.length?t[1]:null}}(o);if("isLastElement"===r)return function(e,t,r){return e.indexInLoop===e.loopLength-1?a({...e,tpl:t}):r?a({...e,tpl:r}):""}(e,i,c);if("notIsLastElement"===r)return function(e,t,r){return e.indexInLoop!==e.loopLength-1?a({...e,tpl:t}):r?a({...e,tpl:r}):""}(e,i,c);const{first:s,second:d}=n(r,".");if(!d){if(e.item&&s===e.item){if(e.itemData)return a({...e,tpl:i});if(c)return a({...e,tpl:c})}if(s in e.data){if(e.data[s])return a({...e,tpl:i});if(c)return a({...e,tpl:c})}return""}if(e.item&&s===e.item)return d in e.itemData[s]?e.itemData[s][d]?a({...e,tpl:i}):c?a({...e,tpl:c}):"":d in e.data[s]?e.data[s][d]?a({...e,tpl:i}):c?a({...e,tpl:c}):"":"";if(s in e.data){if(d in e.data[s]){if(e.data[s][d])return a({...e,tpl:i});if(c)return a({...e,tpl:c})}return""}return""}))}(t),i(t)}function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class d extends class{constructor(e,t){this.el=e,c(this,"state",{}),c(this,"events",{}),c(this,"mount",!1),setTimeout((()=>this.setState(t)),0),this.onMount(e)}subscribeToEvents(){Object.keys(this.events).forEach((e=>{const[t,r]=e.split("@"),n=this.el.querySelectorAll(r);for(let r=0;r<n.length;r++)n[r].addEventListener(t,this.events[e])}))}setState(e){this.state={...this.state,...e},this.el.innerHTML=function(e,t){if(t instanceof Object){const r={tpl:e,data:t,indexInLoop:-1,loopLength:-1,item:null,itemData:{}};return r.tpl=a(r),i(r)}return""}(this.render(),this.state),this.subscribeToEvents()}onMount(e){this.mount=!0}render(){return this.mount=!0,""}}{constructor(...n){super(...n),s(this,"tpl",'\n  <form class="input-field">\n    <input/>\n    <button>Get weather</button>\n  </form>\n  <div class="list-field">\n    <ul>{{for cities as item}}\n      <li><span>{{item}}</span></li>{{endfor}}\n    </ul>\n  </div>\n  <div class="weather-field">\n    {{if weather.city}}\n      <p>{{weather.city}} {{weather.temp}}</p>\n      <img src="http://openweathermap.org/img/wn/{{weather.icon}}@2x.png"/>\n    {{endif}}\n  </div>\n  <div class="map-field">\n    {{if weather.city}}\n      <img src="https://maps.googleapis.com/maps/api/staticmap?center={{weather.latitude}},{{weather.longitude}}&zoom=14&size=600x600&key=AIzaSyAoHdEh_Eb_8xXLNi9802SEyZJj6epr04w"/>\n    {{endif}}\n  </div>\n  '),s(this,"onSubmit",(async n=>{n.preventDefault();const o=n.target.querySelector("input"),i=o.value;if(o.value="",i)try{const n=await r(i);if(200!==n.cod)return;const o=t();o.push(n.city),function(t){for(;t.length>10;)t.shift();localStorage.setItem(e,JSON.stringify(t))}(o),this.setState({weather:n,cities:o})}catch(e){console.log("Error: ",e.message)}})),s(this,"onSelectCity",(async e=>{const t=e.target;if("SPAN"===t.tagName){const e=t.innerText,n=await r(e);if(200!==n.cod)return;this.setState({weather:n})}})),s(this,"events",{"submit@form":this.onSubmit,"click@ul":this.onSelectCity})}render(){return this.tpl}}const l=document.getElementById("app");!async function(){if(!l)return;const e=new d(l),n=t();try{const t=await async function(){try{const e=await fetch("https://get.geojs.io/v1/ip/geo.json");if(!e.ok)throw new Error(`An error has occured: ${e.status}`);return(await e.json()).city}catch(e){throw console.log("Error: ",e.message),e}}(),o=await r(t);e.setState({weather:o,cities:n})}catch(t){console.log("Error: ",t.message),e.setState({cities:n})}}()}},s={};function d(e){var t=s[e];if(void 0!==t){if(void 0!==t.error)throw t.error;return t.exports}var r=s[e]={exports:{}};try{var n={id:e,module:r,factory:c[e],require:d};d.i.forEach((function(e){e(n)})),r=n.module,n.factory.call(r.exports,r,r.exports,n.require)}catch(e){throw r.error=e,e}return r.exports}d.m=c,d.c=s,d.i=[],d.hu=e=>e+"."+d.h()+".hot-update.js",d.miniCssF=e=>{},d.hmrF=()=>"main."+d.h()+".hot-update.json",d.h=()=>"e9518074a621436c11a9",d.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),d.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),e={},t="js-weather-forecast-repo:",d.l=(r,n,o,i)=>{if(e[r])e[r].push(n);else{var a,c;if(void 0!==o)for(var s=document.getElementsByTagName("script"),l=0;l<s.length;l++){var u=s[l];if(u.getAttribute("src")==r||u.getAttribute("data-webpack")==t+o){a=u;break}}a||(c=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,d.nc&&a.setAttribute("nonce",d.nc),a.setAttribute("data-webpack",t+o),a.src=r),e[r]=[n];var p=(t,n)=>{a.onerror=a.onload=null,clearTimeout(f);var o=e[r];if(delete e[r],a.parentNode&&a.parentNode.removeChild(a),o&&o.forEach((e=>e(n))),t)return t(n)},f=setTimeout(p.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=p.bind(null,a.onerror),a.onload=p.bind(null,a.onload),c&&document.head.appendChild(a)}},(()=>{var e,t,r,n,o={},i=d.c,a=[],c=[],s="idle";function l(e){s=e;for(var t=0;t<c.length;t++)c[t].call(null,e)}function u(e){if(0===t.length)return e();var r=t;return t=[],Promise.all(r).then((function(){return u(e)}))}function p(e){if("idle"!==s)throw new Error("check() is only allowed in idle status");return l("check"),d.hmrM().then((function(n){if(!n)return l(m()?"ready":"idle"),null;l("prepare");var o=[];return t=[],r=[],Promise.all(Object.keys(d.hmrC).reduce((function(e,t){return d.hmrC[t](n.c,n.r,n.m,e,r,o),e}),[])).then((function(){return u((function(){return e?h(e):(l("ready"),o)}))}))}))}function f(e){return"ready"!==s?Promise.resolve().then((function(){throw new Error("apply() is only allowed in ready status")})):h(e)}function h(e){e=e||{},m();var t=r.map((function(t){return t(e)}));r=void 0;var o,i=t.map((function(e){return e.error})).filter(Boolean);if(i.length>0)return l("abort"),Promise.resolve().then((function(){throw i[0]}));l("dispose"),t.forEach((function(e){e.dispose&&e.dispose()})),l("apply");var a=function(e){o||(o=e)},c=[];return t.forEach((function(e){if(e.apply){var t=e.apply(a);if(t)for(var r=0;r<t.length;r++)c.push(t[r])}})),o?(l("fail"),Promise.resolve().then((function(){throw o}))):n?h(e).then((function(e){return c.forEach((function(t){e.indexOf(t)<0&&e.push(t)})),e})):(l("idle"),Promise.resolve(c))}function m(){if(n)return r||(r=[]),Object.keys(d.hmrI).forEach((function(e){n.forEach((function(t){d.hmrI[e](t,r)}))})),n=void 0,!0}d.hmrD=o,d.i.push((function(h){var m,v,g,y=h.module,w=function(r,n){var o=i[n];if(!o)return r;var c=function(t){if(o.hot.active){if(i[t]){var c=i[t].parents;-1===c.indexOf(n)&&c.push(n)}else a=[n],e=t;-1===o.children.indexOf(t)&&o.children.push(t)}else console.warn("[HMR] unexpected require("+t+") from disposed module "+n),a=[];return r(t)},d=function(e){return{configurable:!0,enumerable:!0,get:function(){return r[e]},set:function(t){r[e]=t}}};for(var p in r)Object.prototype.hasOwnProperty.call(r,p)&&"e"!==p&&Object.defineProperty(c,p,d(p));return c.e=function(e){return function(e){switch(s){case"ready":return l("prepare"),t.push(e),u((function(){l("ready")})),e;case"prepare":return t.push(e),e;default:return e}}(r.e(e))},c}(h.require,h.id);y.hot=(m=h.id,v=y,g={_acceptedDependencies:{},_acceptedErrorHandlers:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_selfInvalidated:!1,_disposeHandlers:[],_main:e!==m,_requireSelf:function(){a=v.parents.slice(),e=m,d(m)},active:!0,accept:function(e,t,r){if(void 0===e)g._selfAccepted=!0;else if("function"==typeof e)g._selfAccepted=e;else if("object"==typeof e&&null!==e)for(var n=0;n<e.length;n++)g._acceptedDependencies[e[n]]=t||function(){},g._acceptedErrorHandlers[e[n]]=r;else g._acceptedDependencies[e]=t||function(){},g._acceptedErrorHandlers[e]=r},decline:function(e){if(void 0===e)g._selfDeclined=!0;else if("object"==typeof e&&null!==e)for(var t=0;t<e.length;t++)g._declinedDependencies[e[t]]=!0;else g._declinedDependencies[e]=!0},dispose:function(e){g._disposeHandlers.push(e)},addDisposeHandler:function(e){g._disposeHandlers.push(e)},removeDisposeHandler:function(e){var t=g._disposeHandlers.indexOf(e);t>=0&&g._disposeHandlers.splice(t,1)},invalidate:function(){switch(this._selfInvalidated=!0,s){case"idle":r=[],Object.keys(d.hmrI).forEach((function(e){d.hmrI[e](m,r)})),l("ready");break;case"ready":Object.keys(d.hmrI).forEach((function(e){d.hmrI[e](m,r)}));break;case"prepare":case"check":case"dispose":case"apply":(n=n||[]).push(m)}},check:p,apply:f,status:function(e){if(!e)return s;c.push(e)},addStatusHandler:function(e){c.push(e)},removeStatusHandler:function(e){var t=c.indexOf(e);t>=0&&c.splice(t,1)},data:o[m]},e=void 0,g),y.parents=a,y.children=[],a=[],h.require=w})),d.hmrC={},d.hmrI={}})(),(()=>{var e;d.g.importScripts&&(e=d.g.location+"");var t=d.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var r=t.getElementsByTagName("script");r.length&&(e=r[r.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),d.p=e})(),r=(e,t,r,n)=>{var o=document.createElement("link");return o.rel="stylesheet",o.type="text/css",o.onerror=o.onload=i=>{if(o.onerror=o.onload=null,"load"===i.type)r();else{var a=i&&("load"===i.type?"missing":i.type),c=i&&i.target&&i.target.href||t,s=new Error("Loading CSS chunk "+e+" failed.\n("+c+")");s.code="CSS_CHUNK_LOAD_FAILED",s.type=a,s.request=c,o.parentNode.removeChild(o),n(s)}},o.href=t,document.head.appendChild(o),o},n=(e,t)=>{for(var r=document.getElementsByTagName("link"),n=0;n<r.length;n++){var o=(a=r[n]).getAttribute("data-href")||a.getAttribute("href");if("stylesheet"===a.rel&&(o===e||o===t))return a}var i=document.getElementsByTagName("style");for(n=0;n<i.length;n++){var a;if((o=(a=i[n]).getAttribute("data-href"))===e||o===t)return a}},o=[],i=[],a=e=>({dispose:()=>{for(var e=0;e<o.length;e++){var t=o[e];t.parentNode&&t.parentNode.removeChild(t)}o.length=0},apply:()=>{for(var e=0;e<i.length;e++)i[e].rel="stylesheet";i.length=0}}),d.hmrC.miniCss=(e,t,c,s,l,u)=>{l.push(a),e.forEach((e=>{var t=d.miniCssF(e),a=d.p+t;const c=n(t,a);c&&s.push(new Promise(((t,n)=>{var s=r(e,a,(()=>{s.as="style",s.rel="preload",t()}),n);o.push(c),i.push(s)})))}))},(()=>{var e,t,r,n,o={179:0},i={};function a(e){return new Promise(((t,r)=>{i[e]=t;var n=d.p+d.hu(e),o=new Error;d.l(n,(t=>{if(i[e]){i[e]=void 0;var n=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src;o.message="Loading hot update chunk "+e+" failed.\n("+n+": "+a+")",o.name="ChunkLoadError",o.type=n,o.request=a,r(o)}}))}))}function c(i){function a(e){for(var t=[e],r={},n=t.map((function(e){return{chain:[e],id:e}}));n.length>0;){var o=n.pop(),i=o.id,a=o.chain,s=d.c[i];if(s&&(!s.hot._selfAccepted||s.hot._selfInvalidated)){if(s.hot._selfDeclined)return{type:"self-declined",chain:a,moduleId:i};if(s.hot._main)return{type:"unaccepted",chain:a,moduleId:i};for(var l=0;l<s.parents.length;l++){var u=s.parents[l],p=d.c[u];if(p){if(p.hot._declinedDependencies[i])return{type:"declined",chain:a.concat([u]),moduleId:i,parentId:u};-1===t.indexOf(u)&&(p.hot._acceptedDependencies[i]?(r[u]||(r[u]=[]),c(r[u],[i])):(delete r[u],t.push(u),n.push({chain:a.concat([u]),id:u})))}}}}return{type:"accepted",moduleId:e,outdatedModules:t,outdatedDependencies:r}}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];-1===e.indexOf(n)&&e.push(n)}}d.f&&delete d.f.jsonpHmr,e=void 0;var s={},l=[],u={},p=function(e){console.warn("[HMR] unexpected require("+e.id+") to disposed module")};for(var f in t)if(d.o(t,f)){var h,m=t[f],v=!1,g=!1,y=!1,w="";switch((h=m?a(f):{type:"disposed",moduleId:f}).chain&&(w="\nUpdate propagation: "+h.chain.join(" -> ")),h.type){case"self-declined":i.onDeclined&&i.onDeclined(h),i.ignoreDeclined||(v=new Error("Aborted because of self decline: "+h.moduleId+w));break;case"declined":i.onDeclined&&i.onDeclined(h),i.ignoreDeclined||(v=new Error("Aborted because of declined dependency: "+h.moduleId+" in "+h.parentId+w));break;case"unaccepted":i.onUnaccepted&&i.onUnaccepted(h),i.ignoreUnaccepted||(v=new Error("Aborted because "+f+" is not accepted"+w));break;case"accepted":i.onAccepted&&i.onAccepted(h),g=!0;break;case"disposed":i.onDisposed&&i.onDisposed(h),y=!0;break;default:throw new Error("Unexception type "+h.type)}if(v)return{error:v};if(g)for(f in u[f]=m,c(l,h.outdatedModules),h.outdatedDependencies)d.o(h.outdatedDependencies,f)&&(s[f]||(s[f]=[]),c(s[f],h.outdatedDependencies[f]));y&&(c(l,[h.moduleId]),u[f]=p)}t=void 0;for(var b,E=[],_=0;_<l.length;_++){var I=l[_],D=d.c[I];D&&D.hot._selfAccepted&&u[I]!==p&&!D.hot._selfInvalidated&&E.push({module:I,require:D.hot._requireSelf,errorHandler:D.hot._selfAccepted})}return{dispose:function(){var e;r.forEach((function(e){delete o[e]})),r=void 0;for(var t,n=l.slice();n.length>0;){var i=n.pop(),a=d.c[i];if(a){var c={},u=a.hot._disposeHandlers;for(_=0;_<u.length;_++)u[_].call(null,c);for(d.hmrD[i]=c,a.hot.active=!1,delete d.c[i],delete s[i],_=0;_<a.children.length;_++){var p=d.c[a.children[_]];p&&(e=p.parents.indexOf(i))>=0&&p.parents.splice(e,1)}}}for(var f in s)if(d.o(s,f)&&(a=d.c[f]))for(b=s[f],_=0;_<b.length;_++)t=b[_],(e=a.children.indexOf(t))>=0&&a.children.splice(e,1)},apply:function(e){for(var t in u)d.o(u,t)&&(d.m[t]=u[t]);for(var r=0;r<n.length;r++)n[r](d);for(var o in s)if(d.o(s,o)){var a=d.c[o];if(a){b=s[o];for(var c=[],p=[],f=[],h=0;h<b.length;h++){var m=b[h],v=a.hot._acceptedDependencies[m],g=a.hot._acceptedErrorHandlers[m];if(v){if(-1!==c.indexOf(v))continue;c.push(v),p.push(g),f.push(m)}}for(var y=0;y<c.length;y++)try{c[y].call(null,b)}catch(t){if("function"==typeof p[y])try{p[y](t,{moduleId:o,dependencyId:f[y]})}catch(r){i.onErrored&&i.onErrored({type:"accept-error-handler-errored",moduleId:o,dependencyId:f[y],error:r,originalError:t}),i.ignoreErrored||(e(r),e(t))}else i.onErrored&&i.onErrored({type:"accept-errored",moduleId:o,dependencyId:f[y],error:t}),i.ignoreErrored||e(t)}}}for(var w=0;w<E.length;w++){var _=E[w],I=_.module;try{_.require(I)}catch(t){if("function"==typeof _.errorHandler)try{_.errorHandler(t,{moduleId:I,module:d.c[I]})}catch(r){i.onErrored&&i.onErrored({type:"self-accept-error-handler-errored",moduleId:I,error:r,originalError:t}),i.ignoreErrored||(e(r),e(t))}else i.onErrored&&i.onErrored({type:"self-accept-errored",moduleId:I,error:t}),i.ignoreErrored||e(t)}}return l}}}self.webpackHotUpdatejs_weather_forecast_repo=(e,r,o)=>{for(var a in r)d.o(r,a)&&(t[a]=r[a]);o&&n.push(o),i[e]&&(i[e](),i[e]=void 0)},d.hmrI.jsonp=function(e,o){t||(t={},n=[],r=[],o.push(c)),d.o(t,e)||(t[e]=d.m[e])},d.hmrC.jsonp=function(i,s,l,u,p,f){p.push(c),e={},r=s,t=l.reduce((function(e,t){return e[t]=!1,e}),{}),n=[],i.forEach((function(t){d.o(o,t)&&void 0!==o[t]&&(u.push(a(t)),e[t]=!0)})),d.f&&(d.f.jsonpHmr=function(t,r){e&&!d.o(e,t)&&d.o(o,t)&&void 0!==o[t]&&(r.push(a(t)),e[t]=!0)})},d.hmrM=()=>{if("undefined"==typeof fetch)throw new Error("No browser support: need fetch API");return fetch(d.p+d.hmrF()).then((e=>{if(404!==e.status){if(!e.ok)throw new Error("Failed to fetch update manifest "+e.statusText);return e.json()}}))}})(),d(643)})();